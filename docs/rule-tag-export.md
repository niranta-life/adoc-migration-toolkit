# Rule Tag Export Command

The `rule-tag-export` command exports rule tags for all policies from the `policies-all-export.csv` file.

## Overview

This command processes the policy export file generated by `policy-list-export` and extracts rule tags for each policy. It creates a CSV file containing rule IDs and their associated tags, which can be used for tag management and migration purposes.

## Usage

```bash
rule-tag-export [--quiet] [--verbose] [--parallel]
```

## Parameters

### Optional Parameters

- `--quiet`: Suppress detailed output (only show errors and warnings)
- `--verbose`: Show detailed processing information including API requests/responses
- `--parallel`: Use parallel processing for faster export operations

## Examples

### Basic Export

```bash
rule-tag-export
```

### Quiet Mode

```bash
rule-tag-export --quiet
```

### Verbose Export

```bash
rule-tag-export --verbose
```

### Parallel Processing

```bash
rule-tag-export --parallel
```

## Input Files

The command expects the following input file:

- `policy-export/policies-all-export.csv` - Policy data exported by `policy-list-export`

## Output Files

The command generates the following output file:

- `policy-export/rule-tags-export.csv` - Rule tags with rule ID and comma-separated tags

## File Structure

The output CSV file contains:
- **Rule ID**: The unique identifier for each rule
- **Tags**: Comma-separated list of tags associated with the rule

## Workflow Integration

This command is typically used in the following workflow:

1. **Export Policies**: Use `policy-list-export` to export all policies
2. **Export Rule Tags**: Use this command to extract rule tags
3. **Tag Management**: Use the exported tags for tag management or migration

## Error Handling

The command includes comprehensive error handling:

- **Missing Input File**: Provides clear guidance on required `policies-all-export.csv` file
- **Invalid Data**: Validates CSV structure and data format
- **API Errors**: Handles authentication and permission issues
- **Network Issues**: Retries failed operations with exponential backoff

## Performance

- **Parallel Processing**: Use `--parallel` for faster export of large datasets
- **Batch Operations**: Processes rules in optimized batches
- **Memory Management**: Efficient memory usage for large policy datasets
- **Progress Tracking**: Real-time progress indicators for long operations

## Tips

- **Prerequisites**: Always run `policy-list-export` first to generate the required input file
- **Tag Format**: Review the tag format in the output file for consistency
- **Parallel Processing**: Use `--parallel` for large policy datasets
- **Monitoring**: Use `--verbose` mode to monitor the export process

## Common Use Cases

### Tag Migration
Export tags for migration between environments:
```bash
rule-tag-export --verbose
```

### Tag Analysis
Analyze tag distribution across policies:
```bash
rule-tag-export --quiet
```

### Tag Standardization
Export tags for standardization across environments:
```bash
rule-tag-export --parallel
```

## Related Commands

- [policy-list-export](policy-list-export.md) - Export all policies to CSV file
- [policy-export](policy-export.md) - Export policies by category to ZIP files
- [policy-import](policy-import.md) - Import policy ZIP files to target environment
- [asset-tag-import](asset-tag-import.md) - Import asset tags 